module.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=17)}([function(t,e){function r(t,e){"boolean"==typeof e&&(e={forever:e}),this._timeouts=t,this._options=e||{},this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=r,r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;this._errors.push(t);var e=this._timeouts.shift();if(void 0===e){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),e=this._timeouts.shift()}var r=this,n=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),this._options.unref&&r._timeout.unref()),r._fn(r._attempts)},e);return this._options.unref&&n.unref(),!0},r.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._fn(this._attempts)},r.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},r.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(0===this._errors.length)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var o=this._errors[n],i=o.message,s=(t[i]||0)+1;t[i]=s,s>=r&&(e=o,r=s)}return e}},function(t,e,r){var n=r(0);e.operation=function(t){var r=e.timeouts(t);return new n(r,{forever:t&&t.forever,unref:t&&t.unref})},e.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in t)e[r]=t[r];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],o=0;o<e.retries;o++)n.push(this.createTimeout(o,e));return t&&t.forever&&!n.length&&n.push(this.createTimeout(o,e)),n.sort(function(t,e){return t-e}),n},e.createTimeout=function(t,e){var r=e.randomize?Math.random()+1:1,n=Math.round(r*e.minTimeout*Math.pow(e.factor,t));return n=Math.min(n,e.maxTimeout)},e.wrap=function(t,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var o in n=[],t)"function"==typeof t[o]&&n.push(o);for(var i=0;i<n.length;i++){var s=n[i],a=t[s];t[s]=function(){var n=e.operation(r),o=Array.prototype.slice.call(arguments),i=o.pop();o.push(function(t){n.retry(t)||(t&&(arguments[0]=n.mainError()),i.apply(this,arguments))}),n.attempt(function(){a.apply(t,o)})},t[s].options=r}}},function(t,e,r){t.exports=r(1)},function(t,e,r){"use strict";t.exports=function(t,e,r){var n,o=t instanceof Error?t:new Error(t);if("object"==typeof e?r=e:null!=e&&(o.code=e),r)for(n in r)o[n]=r[n];return o}},function(t,e,r){"use strict";var n=r(3),o=r(2),i=Object.prototype.hasOwnProperty;function s(t){return t&&"EPROMISERETRY"===t.code&&i.call(t,"retried")}t.exports=function(t,e){var r,i;return"object"==typeof t&&"function"==typeof e&&(r=e,e=t,t=r),i=o.operation(e),new Promise(function(e,r){i.attempt(function(o){Promise.resolve().then(function(){return t(function(t){throw s(t)&&(t=t.retried),n("Retrying","EPROMISERETRY",{retried:t})},o)}).then(e,function(t){s(t)&&(t=t.retried,i.retry(t||new Error))||r(t)})})})}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var h,u=[],c=!1,f=-1;function l(){c&&h&&(c=!1,h.length?u=h.concat(u):f=-1,u.length&&p())}function p(){if(!c){var t=a(l);c=!0;for(var e=u.length;e;){for(h=u,u=[];++f<e;)h&&h[f].run();f=-1,e=u.length}h=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function d(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new m(t,e)),1!==u.length||c||a(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=d,o.addListener=d,o.once=d,o.off=d,o.removeListener=d,o.removeAllListeners=d,o.emit=d,o.prependListener=d,o.prependOnceListener=d,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return n.exec(t).slice(1)};function i(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return e=r(i(e.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),o="/"===s(t,-1);return(t=r(i(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var o=n(t.split("/")),i=n(r.split("/")),s=Math.min(o.length,i.length),a=s,h=0;h<s;h++)if(o[h]!==i[h]){a=h;break}var u=[];for(h=a;h<o.length;h++)u.push("..");return(u=u.concat(i.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(5))},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?i(s(t),function(s){var a=encodeURIComponent(n(s))+r;return o(t[s])?i(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var h=1e3;i&&"number"==typeof i.maxKeys&&(h=i.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var c=0;c<u;++c){var f,l,p,m,d=t[c].replace(a,"%20"),y=d.indexOf(r);y>=0?(f=d.substr(0,y),l=d.substr(y+1)):(f=d,l=""),p=decodeURIComponent(f),m=decodeURIComponent(l),n(s,p)?o(s[p])?s[p].push(m):s[p]=[s[p],m]:s[p]=m}return s};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";e.decode=e.parse=r(8),e.encode=e.stringify=r(7)},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){(function(t,n){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,h=2147483647,u=36,c=1,f=26,l=38,p=700,m=72,d=128,y="-",v=/^xn--/,b=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=u-c,T=Math.floor,j=String.fromCharCode;function x(t){throw new RangeError(_[t])}function O(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function A(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+O((t=t.replace(g,".")).split("."),e).join(".")}function E(t){for(var e,r,n=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function P(t){return O(t,function(t){var e="";return t>65535&&(e+=j((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=j(t)}).join("")}function R(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:u}function I(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function C(t,e,r){var n=0;for(t=r?T(t/p):t>>1,t+=T(t/e);t>w*f>>1;n+=u)t=T(t/w);return T(n+(w+1)*t/(t+l))}function S(t){var e,r,n,o,i,s,a,l,p,v,b=[],g=t.length,_=0,w=d,j=m;for((r=t.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&x("not-basic"),b.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<g;){for(i=_,s=1,a=u;o>=g&&x("invalid-input"),((l=R(t.charCodeAt(o++)))>=u||l>T((h-_)/s))&&x("overflow"),_+=l*s,!(l<(p=a<=j?c:a>=j+f?f:a-j));a+=u)s>T(h/(v=u-p))&&x("overflow"),s*=v;j=C(_-i,e=b.length+1,0==i),T(_/e)>h-w&&x("overflow"),w+=T(_/e),_%=e,b.splice(_++,0,w)}return P(b)}function U(t){var e,r,n,o,i,s,a,l,p,v,b,g,_,w,O,A=[];for(g=(t=E(t)).length,e=d,r=0,i=m,s=0;s<g;++s)(b=t[s])<128&&A.push(j(b));for(n=o=A.length,o&&A.push(y);n<g;){for(a=h,s=0;s<g;++s)(b=t[s])>=e&&b<a&&(a=b);for(a-e>T((h-r)/(_=n+1))&&x("overflow"),r+=(a-e)*_,e=a,s=0;s<g;++s)if((b=t[s])<e&&++r>h&&x("overflow"),b==e){for(l=r,p=u;!(l<(v=p<=i?c:p>=i+f?f:p-i));p+=u)O=l-v,w=u-v,A.push(j(I(v+O%w,0))),l=T(O/w);A.push(j(I(l,0))),i=C(r,_,n==o),r=0,++n}++r,++e}return A.join("")}a={version:"1.4.1",ucs2:{decode:E,encode:P},decode:S,encode:U,toASCII:function(t){return A(t,function(t){return b.test(t)?"xn--"+U(t):t})},toUnicode:function(t){return A(t,function(t){return v.test(t)?S(t.slice(4).toLowerCase()):t})}},void 0===(o=function(){return a}.call(e,r,e,t))||(t.exports=o)}()}).call(this,r(12)(t),r(11))},function(t,e,r){"use strict";var n=r(13),o=r(10);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=g,e.resolve=function(t,e){return g(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?g(t,!1,!0).resolveObject(e):e},e.format=function(t){o.isString(t)&&(t=g(t));return t instanceof i?t.format():i.prototype.format.call(t)},e.Url=i;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),f=["%","/","?",";","#"].concat(c),l=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r(9);function g(t,e,r){if(t&&o.isObject(t)&&t instanceof i)return t;var n=new i;return n.parse(t,e,r),n}i.prototype.parse=function(t,e,r){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),a=-1!==i&&i<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var g=t=u.join(a);if(g=g.trim(),!r&&1===t.split("#").length){var _=h.exec(g);if(_)return this.path=g,this.href=g,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=s.exec(g);if(w){var T=(w=w[0]).toLowerCase();this.protocol=T,g=g.substr(w.length)}if(r||w||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var j="//"===g.substr(0,2);!j||w&&y[w]||(g=g.substr(2),this.slashes=!0)}if(!y[w]&&(j||w&&!v[w])){for(var x,O,A=-1,E=0;E<l.length;E++){-1!==(P=g.indexOf(l[E]))&&(-1===A||P<A)&&(A=P)}-1!==(O=-1===A?g.lastIndexOf("@"):g.lastIndexOf("@",A))&&(x=g.slice(0,O),g=g.slice(O+1),this.auth=decodeURIComponent(x)),A=-1;for(E=0;E<f.length;E++){var P;-1!==(P=g.indexOf(f[E]))&&(-1===A||P<A)&&(A=P)}-1===A&&(A=g.length),this.host=g.slice(0,A),g=g.slice(A),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var I=this.hostname.split(/\./),C=(E=0,I.length);E<C;E++){var S=I[E];if(S&&!S.match(p)){for(var U="",B=0,q=S.length;B<q;B++)S.charCodeAt(B)>127?U+="x":U+=S[B];if(!U.match(p)){var F=I.slice(0,E),D=I.slice(E+1),N=S.match(m);N&&(F.push(N[1]),D.unshift(N[2])),D.length&&(g="/"+D.join(".")+g),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=n.toASCII(this.hostname));var L=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+L,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!d[T])for(E=0,C=c.length;E<C;E++){var k=c[E];if(-1!==g.indexOf(k)){var M=encodeURIComponent(k);M===k&&(M=escape(k)),g=g.split(k).join(M)}}var z=g.indexOf("#");-1!==z&&(this.hash=g.substr(z),g=g.slice(0,z));var G=g.indexOf("?");if(-1!==G?(this.search=g.substr(G),this.query=g.substr(G+1),e&&(this.query=b.parse(this.query)),g=g.slice(0,G)):e&&(this.search="",this.query={}),g&&(this.pathname=g),v[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){L=this.pathname||"";var J=this.search||"";this.path=L+J}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+i+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},i.prototype.resolve=function(t){return this.resolveObject(g(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(o.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var r=new i,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var c=h[u];"protocol"!==c&&(r[c]=t[c])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!v[t.protocol]){for(var f=Object.keys(t),l=0;l<f.length;l++){var p=f[l];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),r.pathname=m.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",b=r.search||"";r.path=d+b}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=_||g||r.host&&t.pathname,T=w,j=r.pathname&&r.pathname.split("/")||[],x=(m=t.pathname&&t.pathname.split("/")||[],r.protocol&&!v[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===j[0]?j[0]=r.host:j.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),w=w&&(""===m[0]||""===j[0])),_)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,j=m;else if(m.length)j||(j=[]),j.pop(),j=j.concat(m),r.search=t.search,r.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(x)r.hostname=r.host=j.shift(),(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift());return r.search=t.search,r.query=t.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!j.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=j.slice(-1)[0],A=(r.host||t.host||j.length>1)&&("."===O||".."===O)||""===O,E=0,P=j.length;P>=0;P--)"."===(O=j[P])?j.splice(P,1):".."===O?(j.splice(P,1),E++):E&&(j.splice(P,1),E--);if(!w&&!T)for(;E--;E)j.unshift("..");!w||""===j[0]||j[0]&&"/"===j[0].charAt(0)||j.unshift(""),A&&"/"!==j.join("/").substr(-1)&&j.push("");var R,I=""===j[0]||j[0]&&"/"===j[0].charAt(0);x&&(r.hostname=r.host=I?"":j.length?j.shift():"",(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift()));return(w=w||r.host&&j.length)&&!I&&j.unshift(""),j.length?r.pathname=j.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e){var r=function(t){function e(){this.fetch=!1}return e.prototype=t,new e}("undefined"!=typeof self?self:this);(function(t){!function(t){if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(t){return t&&DataView.prototype.isPrototypeOf(t)},o=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=a(t),e=h(e);var r=this.map[t];this.map[t]=r?r+","+e:e},c.prototype.delete=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=h(e)},c.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),u(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),u(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),u(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},d.call(y.prototype),d.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},b.error=function(){var t=new b(null,{status:0,statusText:""});return t.type="error",t};var s=[301,302,303,307,308];b.redirect=function(t,e){if(-1===s.indexOf(e))throw new RangeError("Invalid status code");return new b(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=y,t.Response=b,t.fetch=function(t,r){return new Promise(function(n,o){var i=new y(t,r),s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:function(t){var e=new c;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();e.append(n,o)}}),e}(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;n(new b(e,t))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&e.blob&&(s.responseType="blob"),i.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var r={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(r[Symbol.iterator]=function(){return r}),r}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function l(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function p(t){var e=new FileReader,r=l(e);return e.readAsArrayBuffer(t),r}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&n(t))this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!o(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,r=l(e);return e.readAsText(t),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(t,e){var r=(e=e||{}).body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=function(t){var e=t.toUpperCase();return i.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function b(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}(void 0!==t?t:this)}).call(r,void 0);var n=r.fetch;n.Response=r.Response,n.Request=r.Request,n.Headers=r.Headers;"object"==typeof t&&t.exports&&(t.exports=n)},function(t,e,r){var n=r(15),o=r(14),i=r(6),s=r(4),a=t=>!!(t&&t.constructor&&t.call&&t.apply),h=(t,e)=>t+e.toString().match(/\(.*\)/)[0];function u(t){var e=[],r=[];return Object.keys(t).forEach(function(n){t.hasOwnProperty(n)&&(a(t[n])?e.push(h(n,t[n])):r.push(n))}),r.length>0&&e.push({constants:r}),e}var c={getPaginationInfo:function(t){return{per_page:t.get("x-per-page"),current_page:t.get("x-current-page"),total_count:t.get("x-total-count"),total_pages:t.get("x-total-pages")}},Filters:function(){this.attrs={}},validateParams:function(t,e,r){c.debug&&r.forEach(function(r,n){var o=typeof e[n];if(!o)throw t+": parameter "+n+" is missing";if(!o.match(r))throw t+": parameter "+n+" must match "+r})},export:function(t,e){var r=function(r){return c.validateParams("get(filters)",arguments,[/object/]),{object_type:t,scope:e,path:i.join(e||"",t+"s.csv?export=true&format=csv&")+r.to_query(),method:"GET",responseHandler:()=>[]}};return r.log=c.log,r.object_type=t,r.scope=e,r},get:function(t,e){var r=function(r){return c.validateParams("get(filters)",arguments,[/object/]),{object_type:t,scope:e,path:i.join(e||"",t+"s.json?")+r.to_query(),method:"GET"}};return r.log=c.log,r.object_type=t,r.scope=e,r},create:function(t,e){var r=function(r){c.validateParams("create(object)",arguments,[/object/]);var n={};return n[t]=r,{object_type:t,scope:e,path:i.join(e||"",t+"s.json"),body:JSON.stringify(n),method:"POST"}};return r.log=c.log,r.object_type=t,r.scope=e,r},update:function(t,e){var r=function(r,n){c.validateParams("update(object_id, object)",arguments,[/string|number/,/object/]);var o={};return o[t]=n,{object_type:t,scope:e,path:i.join(e||"",t+"s/"+r+".json"),body:JSON.stringify(o),method:"PUT"}};return r.log=c.log,r.object_type=t,r.scope=e,r},Connection:function(t,e="https://api.samanage.com"){if(!e||!e.match(/^https|localhost/))throw"origin must start with 'https://'";this.debug=!1,this.connection=this,this.origin=e,this.headers={"X-Samanage-Authorization":"Bearer "+t,"Content-Type":"application/json",Accept:"*/*"},this.valid_request_opts=["timeout","mode","cache","credentials","referrer","follow","agent"],this.request_opts={},this.retry_codes=[408,409,429,503,504],this.retry_opts={retries:2,factor:2,minTimeout:1e3,maxTimeout:6e3,randomize:!1}},debug:!1,log:function(){c.debug&&console.log("DEBUG",...arguments)}};function f({data:t,ref:e,pagination_info:r}){var n=e,o=n.connection,i=n.log,s=n.filters,a=s?s.clone():new c.Filters,h="GETTER REQ:"+o.origin+"/"+n.action(a).path;if(t.length>0){i(h+": recieved "+t.length+" new items"),t.forEach(function(t){n.data[t.id]=t});var u=a.clone().next_page();n.filters=u,r.total_pages>=u.attrs.page?(i(h+": next page:"+u.attrs.page),o.callSamanageAPI(n.action(u),n).then(f).catch(function(t){i(h+": REJECTED: "+t),n.reject(t)})):(i(h+": RESOLVED (no pagination)"),n.resolve(n.data))}else i(h+": RESOLVED (empty page)"),n.resolve(n.data)}Object.assign(c.Connection,{HTTP_ERROR:"HTTP Error",NON_HTTP_ERROR:"Non HTTP Error",GET_BODY_ERROR:"Error getting response body",INVALID_JSON:"Invalid JSON response data"}),c.Connection.prototype={getter:function(t,e,r,n){var o=this;return new Promise(function(i,s){var a={data:{},action:c.get(t,r),filters:e,connection:o,resolve:i,reject:s},h=a.action(e||new c.Filters);a.log=n||c.log,o.callSamanageAPI(h,a).then(f).catch(s)})},callSamanageAPI:function(t,e,r){var n=this,o=r||t.retry_opts||n.retry_opts;return s(function(r,o){return n.singleSamanageAPI(t,e).catch(function(t){if(t.attempts=o,t.error!=c.Connection.HTTP_ERROR||!n.retry_codes.includes(t.httpStatus)||!r(t))throw t})},o)},processResponse:function(t,e,r,n,o){var i=t.log||c.log;e.text().then(function(s){try{i("callSamanageAPI ok:",{ref:o,body:s.substring(0,100),headers:e.headers}),r({data:(t.responseHandler||JSON.parse)(s),ref:o,pagination_info:c.getPaginationInfo(e.headers)})}catch(t){i("callSamanageAPI exception:",o,t),n({error:c.Connection.INVALID_JSON,info:s,ref:o,exception:t})}}).catch(function(t){i("callSamanageAPI error:",o,t),n({error:c.Connection.GET_BODY_ERROR,info:t,ref:o})})},singleSamanageAPI:function(t,e){var r=this,i=t.log||c.log;return new Promise(function(s,a){var h={redirect:"follow",headers:r.headers,method:t.method},u=o.resolve(r.origin,t.path);r.valid_request_opts.forEach(t=>{void 0!==r.request_opts[t]&&(h[t]=r.request_opts[t])}),e=e||h.url,t.body&&(h.body=t.body),i("callSamanageAPI:",{ref:e,options:h,request:t}),console.log(fetch,n,h,u),(fetch||n)(u,h).then(function(n){n.status<200||n.status>=300?(i("callSamanageAPI HTTP error:",e,n.status),a({error:c.Connection.HTTP_ERROR,httpStatus:n.status,info:n.statusText,ref:e})):r.processResponse(t,n,s,a,e)}).catch(function(t){i("callSamanageAPI error:",e,t),a({error:c.Connection.NON_HTTP_ERROR,info:t,ref:e})})})}},c.Filters.prototype={DESC:!1,ASC:!0,add:function(t){var e=this.attrs;return Object.keys(t).forEach(function(r){var n=t[r];"object"==typeof n&&r.match(/created|updated/)?(e[r+"_custom_gte[]"]=n[0],e[r+"_custom_lte[]"]=n[1]):e[r]=n}),this},between_dates:function(t,e,r){return this.attrs[t+"_custom_gte[]"]=e,this.attrs[t+"_custom_lte[]"]=r,this},sort_by:function(t){return this.attrs.sort_by=t,this},sort_order:function(t){return this.attrs.sort_order=t?"ASC":"DESC",this},page:function(t){return this.attrs.page=t,this},next_page:function(){return this.attrs.page=(this.attrs.page||1)+1,this},per_page:function(t){return this.attrs.per_page=t,this},department:function(t){return this.attrs.department=t,this},title:function(t){return this.attrs.title=t,this},to_query:function(){var t=this.attrs;return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")},clone:function(){var t=new c.Filters;return Object.assign(t.attrs,this.attrs),t}},c.help=u(c),c.Connection.help=u(c.Connection.prototype),c.Filters.help=u(c.Filters.prototype),t.exports=c},function(t,e,r){t.exports=r(16)}]);